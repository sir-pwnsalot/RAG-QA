!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="2da56c93-bd15-4678-9c3c-43c13dbab204",e._sentryDebugIdIdentifier="sentry-dbid-2da56c93-bd15-4678-9c3c-43c13dbab204")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"c5d2c6bd47406dc1c556d498d2137a166bd29e78"},(()=>{"use strict";var e={540:e=>{e.exports=function(e){var n=document.createElement("style");return e.setAttributes(n,e.attributes),e.insert(n,e.options),n}},1113:e=>{e.exports=function(e,n){if(n.styleSheet)n.styleSheet.cssText=e;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(e))}}},1354:e=>{e.exports=function(e){var n=e[1],o=e[3];if(!o)return n;if("function"==typeof btoa){var t=btoa(unescape(encodeURIComponent(JSON.stringify(o)))),i="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(t),r="/*# ".concat(i," */");return[n].concat([r]).join("\n")}return[n].join("\n")}},5056:(e,n,o)=>{e.exports=function(e){var n=o.nc;n&&e.setAttribute("nonce",n)}},5072:e=>{var n=[];function o(e){for(var o=-1,t=0;t<n.length;t++)if(n[t].identifier===e){o=t;break}return o}function t(e,t){for(var r={},a=[],s=0;s<e.length;s++){var d=e[s],c=t.base?d[0]+t.base:d[0],l=r[c]||0,u="".concat(c," ").concat(l);r[c]=l+1;var f=o(u),p={css:d[1],media:d[2],sourceMap:d[3],supports:d[4],layer:d[5]};if(-1!==f)n[f].references++,n[f].updater(p);else{var y=i(p,t);t.byIndex=s,n.splice(s,0,{identifier:u,updater:y,references:1})}a.push(u)}return a}function i(e,n){var o=n.domAPI(n);return o.update(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap&&n.supports===e.supports&&n.layer===e.layer)return;o.update(e=n)}else o.remove()}}e.exports=function(e,i){var r=t(e=e||[],i=i||{});return function(e){e=e||[];for(var a=0;a<r.length;a++){var s=o(r[a]);n[s].references--}for(var d=t(e,i),c=0;c<r.length;c++){var l=o(r[c]);0===n[l].references&&(n[l].updater(),n.splice(l,1))}r=d}}},5655:(e,n,o)=>{o.d(n,{A:()=>s});var t=o(1354),i=o.n(t),r=o(6314),a=o.n(r)()(i());a.push([e.id,"\n.body-style-open {\n    height: 100% !important;\n    overflow: hidden !important;\n  }\n  ","",{version:3,sources:["webpack://./src/initialize/initialize.css"],names:[],mappings:";AACA;IACI,uBAAuB;IACvB,2BAA2B;EAC7B",sourcesContent:["\n.body-style-open {\n    height: 100% !important;\n    overflow: hidden !important;\n  }\n  "],sourceRoot:""}]);const s=a},6314:e=>{e.exports=function(e){var n=[];return n.toString=function(){return this.map(function(n){var o="",t=void 0!==n[5];return n[4]&&(o+="@supports (".concat(n[4],") {")),n[2]&&(o+="@media ".concat(n[2]," {")),t&&(o+="@layer".concat(n[5].length>0?" ".concat(n[5]):""," {")),o+=e(n),t&&(o+="}"),n[2]&&(o+="}"),n[4]&&(o+="}"),o}).join("")},n.i=function(e,o,t,i,r){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(t)for(var s=0;s<this.length;s++){var d=this[s][0];null!=d&&(a[d]=!0)}for(var c=0;c<e.length;c++){var l=[].concat(e[c]);t&&a[l[0]]||(void 0!==r&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=r),o&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=o):l[2]=o),i&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=i):l[4]="".concat(i)),n.push(l))}},n}},7659:e=>{var n={};e.exports=function(e,o){var t=function(e){if(void 0===n[e]){var o=document.querySelector(e);if(window.HTMLIFrameElement&&o instanceof window.HTMLIFrameElement)try{o=o.contentDocument.head}catch(e){o=null}n[e]=o}return n[e]}(e);if(!t)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");t.appendChild(o)}},7825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var n=e.insertStyleElement(e);return{update:function(o){!function(e,n,o){var t="";o.supports&&(t+="@supports (".concat(o.supports,") {")),o.media&&(t+="@media ".concat(o.media," {"));var i=void 0!==o.layer;i&&(t+="@layer".concat(o.layer.length>0?" ".concat(o.layer):""," {")),t+=o.css,i&&(t+="}"),o.media&&(t+="}"),o.supports&&(t+="}");var r=o.sourceMap;r&&"undefined"!=typeof btoa&&(t+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),n.styleTagTransform(t,e,n.options)}(n,e,o)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)}}}}},n={};function o(t){var i=n[t];if(void 0!==i)return i.exports;var r=n[t]={id:t,exports:{}};return e[t](r,r.exports,o),r.exports}o.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return o.d(n,{a:n}),n},o.d=(e,n)=>{for(var t in n)o.o(n,t)&&!o.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})},o.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),o.nc=void 0;const t="agent-handler-link-iframe",i=()=>document.getElementById(t);var r=o(5072),a=o.n(r),s=o(7825),d=o.n(s),c=o(7659),l=o.n(c),u=o(5056),f=o.n(u),p=o(540),y=o.n(p),g=o(1113),m=o.n(g),v=o(5655),k={};k.styleTagTransform=m(),k.setAttributes=f(),k.insert=l().bind(null,"head"),k.domAPI=d(),k.insertStyleElement=y(),a()(v.A,k),v.A&&v.A.locals&&v.A.locals;const h={isLinkOpen:!1,isIFrameCreated:!1,isIFrameReady:!1,wasTenantConfigPassedIn:!1,linkToken:void 0,forAdmin:!1,isForMagicLink:!1,onValidationError:()=>{},onExit:()=>{},onSuccess:()=>{},onIFrameReady:()=>{},shouldSendTokenOnSuccessfulLink:!1,savedBodyStyles:{overflow:"auto",height:"auto"},filePickerConfig:void 0},T=e=>{let n=!1;if(e&&e.includes("?for_admin=")){const o=e.split("?for_admin=");e=o[0],n="True"==o[1]||"true"==o[1]}return{linkToken:e,forAdmin:n}},b=()=>{const e=i();var n,o;null!==e&&null!=e.contentWindow&&h.linkToken&&e.contentWindow.postMessage({messageType:"SEND_INFO_TO_IFRAME",linkToken:h.linkToken,forAdmin:h.forAdmin,apiBaseURL:(n=h.wasTenantConfigPassedIn,o=h.tenantConfig,(n?o?.apiBaseURL??"":"https://ah-api.merge.dev")+"/api"),isLinkOpen:h.isLinkOpen,shouldSendTokenOnSuccessfulLink:h.shouldSendTokenOnSuccessfulLink,isForMagicLink:h.isForMagicLink,filePickerConfigSent:null!=h.filePickerConfig,types:h.filePickerConfig?.types,allowMultiSelect:h.filePickerConfig?.allowMultiSelect,initialPageResponseBody:h.initialPageResponseBody},"*")},E=()=>{document.body.classList.remove("body-style-open");const e=i();e.style.display="none",h.isLinkOpen=!1,null!=e.contentWindow&&e.contentWindow.postMessage({messageType:"EXIT_MERGE_LINK"},"*")};window.addEventListener("message",e=>{const{messageType:n,shouldSendTokenOnSuccessfulLink:o,validationErrors:t,selectedFiles:i}=e.data;switch(n){case"SEND_VALIDATION_ERRORS_TO_PARENT":return void(t?.length&&h.onValidationError(t));case"SEND_SUCCESS":return void h.onSuccess();case"SEND_PUBLIC_TOKEN_TO_PARENT":return h.onSuccess(),void(o||E());case"LINKING_FLOW_READY_FOR_LINK_TOKEN":return h.isIFrameReady=!0,h.onIFrameReady(),void b();case"INTEGRATIONS_LOADED":return void h.onIFrameReady();case"CLOSE_LINKING_FLOW":return E(),void(h.onExit&&h.onExit());case"SEND_SELECTED_FILES_TO_PARENT":return void(i&&h.filePickerConfig?.onSubmit(i))}}),window.AgentHandlerLink={initialize:({linkToken:e,tenantConfig:n,isForMagicLink:o,onValidationError:i,onSuccess:r,onReady:a,organization_organization_id:s,shouldSendTokenOnSuccessfulLink:d,onExit:c,filePickerConfig:l,initialPageResponseBody:u,parentContainerID:f})=>{const{linkToken:p,forAdmin:y}=T(e),g=p&&(p!==h.linkToken||h.initialPageResponseBody!==u);h.forAdmin=y,h.linkToken=p??void 0,h.tenantConfig=n,h.isForMagicLink=o??!1,h.initialPageResponseBody=u,h.onValidationError=i??(()=>{}),h.tenantConfig&&(h.wasTenantConfigPassedIn=!0),h.onSuccess=r??(()=>{}),h.onIFrameReady=a??(()=>{}),h.organizationID=s,h.shouldSendTokenOnSuccessfulLink=d,h.filePickerConfig=l,h.onExit=c??(()=>{}),!1===h.isIFrameCreated?(h.isIFrameCreated=!0,(e=>{const n=document.createElement("iframe");n.id=t,n.height="100%",n.width="100%",n.style.display="none",n.style.position="fixed",n.style.top="0",n.style.left="0",n.style.right="0",n.style.bottom="0",n.style.zIndex="9999999999",n.style.borderWidth="0",n.style.overflowX="hidden",n.style.overflowY="auto",n.style.backgroundColor="transparent",n.src="https://ah-cdn.merge.dev/index.html";const o=null!=e?document.getElementById(e):null;null!==o?o.appendChild(n):document.body.appendChild(n)})(f)):(h.isIFrameReady&&h.onIFrameReady(),g&&b())},openLink:e=>{h.isLinkOpen=!0;const n=i();if(e&&e.linkToken){const{linkToken:n}=T(e.linkToken);e.linkToken=n??void 0}e&&e.linkToken!==h.linkToken?(h.linkToken=e.linkToken??void 0,h.onSuccess=e.onSuccess,h.initialPageResponseBody=e.initialPageResponseBody,h.onExit=e.onExit??(()=>{}),b()):b(),n.style.display="block",document.body.classList.add("body-style-open")},closeLink:E}})();
//# sourceMappingURL=initialize.js.map